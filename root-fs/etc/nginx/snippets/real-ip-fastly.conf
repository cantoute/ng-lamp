##
# Real IP when behind Fastly
##

# Based on https://networksdb.io/ip-addresses-of/fastly-inc

real_ip_header Fastly-Client-IP;

set_real_ip_from 157.0.0.0/8;
set_real_ip_from 146.75.0.0/16; # Sweden
set_real_ip_from 88.80.170.224/30;
set_real_ip_from 88.80.170.228/30;
set_real_ip_from 151.101.0.0/16; # Canada
set_real_ip_from 23.235.32.0/20;
# set_real_ip_from 157.52.64.0/18; # Covered by line 1
set_real_ip_from 172.111.64.0/18; # UK
set_real_ip_from 185.31.18.0/24;
set_real_ip_from 185.31.19.0/24;
set_real_ip_from 167.82.0.0/16; # (simplified) # 167.82.0.0 - 167.82.143.255 # USA
set_real_ip_from 140.248.0.0/16; # USA
set_real_ip_from 199.232.0.0/16;
set_real_ip_from 167.82.160.0/20;
set_real_ip_from 167.82.224.0/20;
set_real_ip_from 104.156.80.0/20;
set_real_ip_from 199.27.72.0/21;
set_real_ip_from 8.18.217.0/24;
set_real_ip_from 23.154.64.0/24;
set_real_ip_from 169.62.79.128/25;
set_real_ip_from 169.63.73.128/25;
set_real_ip_from 169.54.37.32/27;
set_real_ip_from 169.47.24.32/27;
set_real_ip_from 169.63.74.192/27;
set_real_ip_from 169.62.78.0/27;
set_real_ip_from 161.202.79.240/28;
set_real_ip_from 169.47.50.80/28;
set_real_ip_from 209.36.223.80/28;
set_real_ip_from 12.165.144.80/28;
set_real_ip_from 12.168.36.16/28;
set_real_ip_from 70.105.85.32/28;
set_real_ip_from 12.191.128.16/28;
set_real_ip_from 12.191.132.0/28;
set_real_ip_from 12.202.153.48/28;
set_real_ip_from 5.153.54.248/29;
set_real_ip_from 12.4.6.184/29;
set_real_ip_from 12.4.7.128/29;
set_real_ip_from 12.9.100.16/29;
set_real_ip_from 12.15.76.32/29;
set_real_ip_from 12.30.212.16/29;
set_real_ip_from 12.30.212.24/29;
set_real_ip_from 12.30.212.32/29;
set_real_ip_from 64.125.197.168/29;
set_real_ip_from 12.69.227.192/29;
set_real_ip_from 12.133.92.192/29;
set_real_ip_from 12.151.178.184/29;
set_real_ip_from 12.151.178.192/29;
set_real_ip_from 12.168.104.16/29;
set_real_ip_from 12.174.40.0/29;
set_real_ip_from 12.191.8.8/29;
set_real_ip_from 12.195.48.56/29;
set_real_ip_from 12.195.48.64/29;
set_real_ip_from 12.195.48.72/29;
set_real_ip_from 12.195.48.80/29;
set_real_ip_from 12.196.173.248/29;
set_real_ip_from 12.203.164.104/29;
set_real_ip_from 12.227.236.64/29;
set_real_ip_from 12.227.236.72/29;
set_real_ip_from 12.227.236.80/29;
set_real_ip_from 12.227.236.88/29;
set_real_ip_from 12.231.192.0/29;
set_real_ip_from 209.65.44.20/30;
set_real_ip_from 12.22.252.64/32;
set_real_ip_from 12.22.252.65/32;
set_real_ip_from 207.243.36.0/32;
set_real_ip_from 12.97.123.129/32;
set_real_ip_from 12.108.204.150/32;
set_real_ip_from 12.131.22.197/32;
set_real_ip_from 12.138.196.200/32;
set_real_ip_from 12.148.88.8/32;
set_real_ip_from 12.153.160.12/32;
set_real_ip_from 12.165.144.72/32;
set_real_ip_from 12.168.36.8/32;
set_real_ip_from 209.65.44.16/32;
set_real_ip_from 12.191.112.8/32;
set_real_ip_from 12.191.112.9/32;
set_real_ip_from 12.191.128.8/32;
set_real_ip_from 12.196.32.81/32;
set_real_ip_from 43.249.72.0/22; # New Zealand
set_real_ip_from 185.31.16.0/22;
set_real_ip_from 103.244.50.0/24;
set_real_ip_from 103.245.222.0/24;
set_real_ip_from 103.245.223.0/24; # Singapour
set_real_ip_from 103.245.224.0/24; # Japan
set_real_ip_from 103.8.183.16/30;
set_real_ip_from 119.27.58.60/30;
set_real_ip_from 122.50.124.0/30;
set_real_ip_from 103.8.179.192/30;
set_real_ip_from 103.8.179.196/30;
set_real_ip_from 27.111.175.184/30; # Hong Kong
set_real_ip_from 27.111.189.12/30;
set_real_ip_from 185.31.16.0/24; # Netherlands
set_real_ip_from 5.175.82.48/30;
set_real_ip_from 5.175.82.44/30;
set_real_ip_from 5.175.82.112/30;
set_real_ip_from 5.175.82.116/30;
set_real_ip_from 185.31.17.0/24; # Germany
set_real_ip_from 8.242.208.248/29; # Colombia
set_real_ip_from 204.199.121.104/29;
set_real_ip_from 8.242.208.236/30;
set_real_ip_from 204.199.121.96/30;

# real_ip_header    X-Forwarded-For;
# real_ip_recursive on;